@using Knowit.EpiserverFramework.Web.Features.Pages.ProfilePage

@model ProfilePageViewModel

@{
    ViewBag.Title = "Uppdatera profil";
    Layout = "~/Features/Layouts/_LayoutAdmin.cshtml";
}
@section xtrahead{
    <link href="@Url.Content("~/Frontend/css/adminstyles.css")" rel="stylesheet" />
}

<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js" type="text/javascript"></script>
<script src="http://ajax.aspnetcdn.com/ajax/mvc/5.2.3/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>

<section id="content">

    <section id="firstRow" class="section">
        <div class="inner-wrap">

            <h2>Uppdatera användarprofil</h2>
                @using (Html.BeginForm())
                {
                    @Html.ValidationSummary(true)
                    @Html.AntiForgeryToken()

                    <div class="w7_1-2 w w4_19-20 w21_1-4 w1_19-20">
                        <p class="successText">@ViewBag.Success</p>
                        <fieldset>
                            <div class="editor-label">
                                E-post: @Model.User.Email
                            </div>
                            <div class="editor-field inner">
                                
                                @Html.HiddenFor(m => m.User.Email, new { @Value = Model.User.Email  })
                                @Html.ValidationMessageFor(m => m.User.Email)
                            </div>
                            <div class="editor-label">
                                Förnamn
                            </div>
                            <div class="editor-field inner">
                                @Html.TextBoxFor(m => m.User.FirstName, new { @Value = Model.User.FirstName })
                                @Html.ValidationMessageFor(m => m.User.FirstName)
                            </div>
                            <div class="editor-label">
                                Efternamn
                            </div>
                            <div class="editor-field inner">
                                @Html.TextBoxFor(m => m.User.LastName, new { @Value = Model.User.LastName })
                                @Html.ValidationMessageFor(m => m.CurrentPage.LastName)
                            </div>
                            <div class="editor-label">
                                Postadress
                            </div>
                            <div class="editor-field inner">
                                @Html.TextBoxFor(m => m.User.Address, new { @Value = Model.User.Address })
                                @Html.ValidationMessageFor(m => m.CurrentPage.Address)
                            </div>
                            <div class="editor-label">
                                Postnummer
                            </div>
                            <div class="editor-field inner">
                                @Html.TextBoxFor(m => m.User.ZipCode, new { @Value = Model.User.ZipCode })
                                @Html.ValidationMessageFor(m => m.CurrentPage.ZipCode)
                            </div>
                            <div class="editor-label">
                                Postort
                            </div>
                            <div class="editor-field inner">
                                @Html.TextBoxFor(m => m.User.Locality, new { @Value = Model.User.Locality })
                                @Html.ValidationMessageFor(m => m.User.Locality)
                            </div>
                            <input class="btn-text" type="submit" value="Uppdatera" />
                        </fieldset>
                    </div>
                    @*if (settingsPage != null)
                    {
                        <a href="@UrlResolver.Current.GetUrl(settingsPage.ChangePasswordPage)">Byt lösenord</a>
                    }*@
                }
        </div>
    </section>

</section>